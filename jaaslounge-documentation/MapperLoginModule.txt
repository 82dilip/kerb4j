Requirements : 

Usage : 
The user principal class is org.jaaslounge.UserPrincipal.
The role class is org.jaaslounge.GroupPrincipal.

For general information see JAAS API official documentation.

Web-apps : refer to the documentation of your server. Put jaaslounge, jcifs and jcifs-ext jars in the correct classpath.

Login module configuration options :
debug = true|false : displays debug information
mode = tomcat|jboss : organize user and roles information according to tomcat or jboss implementation
context.<context number>.name = <login module name>: name of login module mapped for the context <context number>
context.<context number>.mode = jboss|tomcat : user and roles mode of the mapped login module
context.<context number>.role.source.<role mapping name> = <"role name"> : source role name for mapping <role mapping name>
context.<context number>.role.dest.<role mapping name> = <"role name"> : destination role name for mapping <role mapping name>

In the following example, two NT login modules are mapped so that if authentication fails on one module, it is done on the other;
NT group names ("Domain Admins", "Domain Users") are mapped to application role names ("admin", "user").

Example of mapper login module configuration for Tomcat 5.0.x server :
file jaas.config :
NT_Realm {
   org.jaaslounge.mapper.MapperLoginModule required 
   debug=true 
   
   context.0.name=NT_Serli
   context.0.mode=tomcat
   context.0.role.source.admin="Domain Admins"
   context.0.role.dest.admin="admin"
   context.0.role.source.user="Domain Users"
   context.0.role.dest.user="user"
   
   context.1.name=NT_Serla
   context.1.mode=tomcat
   context.1.role.source.admin="Domain Admins"
   context.1.role.dest.admin="admin"
   context.1.role.source.user="Domain Users"
   context.1.role.dest.user="user"
   
   mode=tomcat;
};

NT_Serla {
   org.jaaslounge.ntlm.NtlmLoginModule required 
   debug=true 
   domain=SERLA 
   host=mauricette
   mode=tomcat;
};

NT_Serli {
   org.jaaslounge.ntlm.NtlmLoginModule required 
   debug=true 
   domain=SERLI 
   host=maurice
   mode=tomcat;
};

security descriptor (<myapp>.xml or server.xml) :
<Realm
        className="org.apache.catalina.realm.JAASRealm"
        appName="NT_Realm" 
        roleClassNames="org.jaaslounge.GroupPrincipal"
     	userClassNames="org.jaaslounge.UserPrincipal"
		debug="99"
        useContextClassLoader="false"
  />
  
  
Example of login module configuration for JBoss 3.2.x server :
	<application-policy name="NT_Realm">
	  <authentication>
	    <login-module code="org.jaaslounge.mapper.MapperLoginModule" flag="required">
	      <module-option name = "debug">true</module-option>
	      <module-option name = "mode">JBoss</module-option>	      
	      
	      <module-option name = "context.0.name">NT_Serli</module-option>
		  <module-option name = "context.0.mode">JBoss</module-option>
		  <module-option name = "context.0.role.source.admin">Domain Admins</module-option>
		  <module-option name = "context.0.role.dest.admin">admin</module-option>
		  <module-option name = "context.0.role.source.user">Domain Users</module-option>
		  <module-option name = "context.0.role.dest.user">user</module-option>
		  
		  <module-option name = "context.1.name">NT_Serla</module-option>
		  <module-option name = "context.1.mode">JBoss</module-option>
		  <module-option name = "context.1.role.source.admin">Domain Admins</module-option>
		  <module-option name = "context.1.role.dest.admin">admin</module-option>
		  <module-option name = "context.1.role.source.user">Domain Users</module-option>
		  <module-option name = "context.1.role.dest.user">user</module-option>
	      		  
	    </login-module>	    
	  </authentication>
	</application-policy>

    <application-policy name="NT_Serli">
	  <authentication>
	    <login-module code="org.jaaslounge.ntlm.NtlmLoginModule" flag="required">
	      <module-option name = "debug">true</module-option>
	      <module-option name = "domain">SERLI</module-option>
	      <module-option name = "host">maurice</module-option>
	      <module-option name = "mode">JBoss</module-option>	      
	    </login-module>	    
	  </authentication>
	</application-policy>
	
	<application-policy name="NT_Serla">
	  <authentication>
	    <login-module code="org.jaaslounge.ntlm.NtlmLoginModule" flag="required">
	      <module-option name = "debug">true</module-option>	      
	      <module-option name = "domain">SERLA</module-option>
	      <module-option name = "host">gama</module-option>
	      <module-option name = "mode">JBoss</module-option>	      
	    </login-module>	    
	  </authentication>
	</application-policy>


